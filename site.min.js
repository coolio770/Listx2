document.addEventListener("DOMContentLoaded",function(){getPlayerData().then(a=>updateContent(a)).catch(a=>console.log(a))},!1);async function getPlayerData(){let a=await fetch("/api/list");if(200==a.status){let b=await a.json();return b}throw new Error(a.status)}function updateContent(a){setTitle(a),createPlayersTable(a)}function setTitle(a){title=document.getElementById("title"),table=document.getElementById("playerlist").getElementsByTagName("tbody")[0],title.innerText=`[NoPixel] Current Players: ${a.currentPlayers} / 32 | Queue: ${a.currentQueue}`}function createPlayersTable(a){a.players=a.players.sort((c,a)=>c.id>a.id?1:a.id>c.id?-1:0),a.players.forEach(function(a,b){newRow=table.insertRow(table.rows.length),newCell=newRow.insertCell(0),newText=document.createTextNode(`${b+1}`),newCell.appendChild(newText),newCell=newRow.insertCell(1),newText=document.createTextNode(`${a.id}`),newCell.appendChild(newText),newCell=newRow.insertCell(2),newText=document.createTextNode(`${a.name}`),newCell.appendChild(newText),newCell=newRow.insertCell(3),newText=document.createTextNode(`${a.identifiers[1]}`),newCell.appendChild(newText),newCell=newRow.insertCell(4),newText=document.createTextNode(`${a.identifiers[0]}`),newCell.appendChild(newText),newCell=newRow.insertCell(5),newText=document.createTextNode(`${a.ping}`),newCell.appendChild(newText)})}